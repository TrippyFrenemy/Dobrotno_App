{% extends "base.html" %}
{% block title %}–°–ø–∏—Å–æ–∫ —Å–º–µ–Ω{% endblock %}

{% block content %}
<h2 class="text-2xl font-semibold mb-4">üìÖ –°–ø–∏—Å–æ–∫ —Å–º–µ–Ω</h2>

{% if shifts %}
<table class="w-full text-sm border">
  <thead class="bg-gray-100">
    <tr>
      <th class="p-2 border">–î–∞—Ç–∞</th>
      <th class="p-2 border">–õ–æ–∫–∞—Ü–∏—è</th>
      <th class="p-2 border">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</th>
      <th class="p-2 border">–°–æ–∑–¥–∞–ª</th>
      <th class="p-2 border">–î–µ–π—Å—Ç–≤–∏—è</th>
    </tr>
  </thead>
  <tbody>
    {% for shift in shifts %}
    <tr>
      <td class="p-2 border">{{ shift.date }}</td>
      <td class="p-2 border">{{ shift.location.value }}</td>
      <td class="p-2 border">
        <ul class="list-disc list-inside">
        {% for a in shift.assignments %}
          <li>{{ a.user.name }}</li>
        {% endfor %}
        </ul>
      </td>
      <td class="p-2 border">{{ shift.created_by_user.name }}</td>
      <td class="p-2 border">
        <a href="/shifts/{{ shift.id }}/edit" class="text-blue-600 hover:underline">–ò–∑–º–µ–Ω–∏—Ç—å</a>
        {% if user.role == 'admin' %}
        <form method="post" action="/shifts/{{ shift.id }}/delete" style="display:inline;" onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å —Å–º–µ–Ω—É?');">
            <button class="text-red-600 hover:underline ml-2">–£–¥–∞–ª–∏—Ç—å</button>
        </form>
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p class="italic text-gray-600">–°–º–µ–Ω –ø–æ–∫–∞ –Ω–µ—Ç.</p>
{% endif %}
{% endblock %}
