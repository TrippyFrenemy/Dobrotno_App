{% extends "base.html" %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è{% endblock %}

{% block content %}
<h2 class="text-2xl font-semibold">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ user.name }}!</h2>
<p class="mt-4 text-gray-700">–í—ã –≤–æ—à–ª–∏ –∫–∞–∫ {{ user.role }}.</p>

{% if user.role in ['admin', 'manager'] %}

<!-- üì¶ –ó–∞–∫–∞–∑—ã -->
<div class="mb-6">
  <h3 class="text-lg font-semibold text-gray-700 mb-2">üì¶ –ó–∞–∫–∞–∑—ã</h3>
  <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4">
    <a href="/orders/create" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-center">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑</a>
    <a href="/orders/{{ user.id }}/list" class="bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800 text-center">üìã –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ {{ user.name }}</a>
    {% if user.role == 'admin' %}
    <a href="/orders/all/list" class="bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800 text-center">üìã –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</a>
    {% endif %}
  </div>
</div>

<!-- ‚Ü©Ô∏è –í–æ–∑–≤—Ä–∞—Ç—ã -->
<div class="mb-6">
  <h3 class="text-lg font-semibold text-gray-700 mb-2">‚Ü©Ô∏è –í–æ–∑–≤—Ä–∞—Ç—ã</h3>
  <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4">
    <a href="/returns/create" class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 text-center">‚ûñ –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–≤—Ä–∞—Ç</a>
    <a href="/returns/{{ user.id }}/list" class="bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800 text-center">üìÑ –°–ø–∏—Å–æ–∫ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ {{ user.name }}</a>
    {% if user.role == 'admin' %}
    <a href="/returns/all/list" class="bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800 text-center">üìÑ –°–ø–∏—Å–æ–∫ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</a>
    {% endif %}
  </div>
</div>

<!-- üìä –°–º–µ–Ω—ã –∏ –∫–∞—Å—Å–∞ -->
<div class="mb-6">
  <h3 class="text-lg font-semibold text-gray-700 mb-2">üìä –°–º–µ–Ω—ã {% if user.role == 'admin' %}–∏ –∫–∞—Å—Å–∞{% endif %}</h3>
  <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4">
    <a href="/shifts/create" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 text-center">üìÖ –î–æ–±–∞–≤–∏—Ç—å —Å–º–µ–Ω—É</a>
    <a href="/shifts/list" class="bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800 text-center">üìà –°–ø–∏—Å–æ–∫ —Å–º–µ–Ω</a>
    {% if user.role == 'admin' %}
    <a href="/reports/monthly" class="bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800 text-center">üìä –û—Ç—á—ë—Ç –ø–æ –º–µ—Å—è—Ü–∞–º</a>
    {% endif %}
  </div>
</div>

{% endif %}

{% if request.query_params.get('success') == '1' %}
  <div id="success-toast" class="fixed top-6 right-6 bg-green-100 border border-green-300 text-green-800 px-4 py-3 rounded shadow-lg z-50 transition-opacity duration-500">
    ‚úÖ –ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω
    {% if request.cookies.get('last_order_info') %}
      <div class="text-sm mt-1 text-gray-700">
        –ó–∞–∫–∞–∑: {{ request.cookies.get('last_order_info').split(',')[0] | e }} ‚Äì
        {{ request.cookies.get('last_order_info').split(',')[1] | e }} –Ω–∞ 
        {{ request.cookies.get('last_order_info').split(',')[2] | e }} –≥—Ä–Ω
      </div>
    {% endif %}
  </div>
{% endif %}



{% endblock %}
